package view{	import flash.display.MovieClip;	import flash.text.TextField;	import flash.text.TextFieldAutoSize;	import flash.display.Graphics;	import flash.events.*;	import flash.display.Loader;	import flash.net.URLRequest;		import com.greensock.TweenLite;	import model.Model;	import controler.Controler;		public class View extends MovieClip	{		private var _model:Model;		public var titleTxt:TextField = new TextField();		public var numTxt:TextField = new TextField();		public var container:MovieClip = new MovieClip();		private var prev:MovieClip = new MovieClip();		private var next:MovieClip = new MovieClip();		private var picLoader:Loader = new Loader();		private var picReq:URLRequest;				public var index:int;		public function View(model:Model) 		{			_model = model;			mainContainer();			addButtons();		}				private function mainContainer():void		{			container.graphics.beginFill(0xCCCCCC);			container.graphics.lineStyle(1, 0x000000);			container.graphics.drawRect(40, 40, 560, 380);			addChild(container);					}				public function titleText(title:String):void		{						titleTxt.x = 40;			titleTxt.y = 430;			titleTxt.text = String(title);			titleTxt.autoSize = TextFieldAutoSize.LEFT;			addChild(titleTxt);		}				public function numText(txt:int):void		{			index = txt + 1;			numTxt.x = 520;			numTxt.y = 430;						numTxt.text = "Photo number " + index;			addChild(numTxt);		}				public function picture(pic:String):void		{						picReq = new URLRequest(pic);			picLoader.load(picReq);			picLoader.contentLoaderInfo.addEventListener(Event.COMPLETE, pic_handler);		}				private function pic_handler(e:Event):void		{			container.addChild(picLoader);							  		}				private function addButtons():void		{			prev.graphics.beginFill(0xdddddd);			prev.graphics.lineStyle(1, 0x000000);			prev.graphics.drawRect(250, 440, 50, 15);			addChild(prev);			prev.addEventListener(MouseEvent.CLICK, prev_handler);				next.graphics.beginFill(0xdddddd);			next.graphics.lineStyle(1, 0x000000);			next.graphics.drawRect(340, 440, 50, 15);			addChild(next);			prev.buttonMode = next.buttonMode = true;			next.addEventListener(MouseEvent.CLICK, next_handler);		}		private function prev_handler(e:MouseEvent):void		{			_model.setCurrentIndex(index - 1);		}				private function next_handler(e:MouseEvent):void		{			_model.setCurrentIndex(index + 1);		}	}	}